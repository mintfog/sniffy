# 使用说明

## 界面概览

Sniffy Web界面包含两个主要选项卡：

1. **网络选项卡** - 监控和查看网络请求
2. **拦截器选项卡** - 管理请求拦截规则

## 网络监控

### 基本操作

1. **开始/停止录制**
   - 点击工具栏中的录制按钮（🔴/⚫）
   - 录制时会实时显示新的网络请求
   - 停止录制可以暂停捕获新请求

2. **清除请求列表**
   - 点击工具栏中的"清除"按钮
   - 将删除当前显示的所有请求记录

3. **查看请求详情**
   - 点击请求列表中的任意行
   - 下方会展开详情面板，显示完整信息

### 筛选和搜索

**方法筛选**
- 在"方法"下拉菜单中选择：GET、POST、PUT、DELETE等
- 选择"全部"显示所有方法的请求

**状态码筛选**
- 选择状态码范围：2xx（成功）、3xx（重定向）、4xx（客户端错误）、5xx（服务器错误）

**类型筛选**
- 按请求类型筛选：XHR、Fetch、Document、CSS、JS、Image等

**URL搜索**
- 在搜索框中输入关键词
- 实时筛选包含关键词的请求URL

### 请求详情面板

点击任意请求后，详情面板提供5个标签页：

#### Headers 📄
- **General**: 显示请求基本信息（URL、方法、状态码等）
- **Response Headers**: 服务器返回的响应头
- **Request Headers**: 客户端发送的请求头
- 每个部分都有复制按钮，可以快速复制头信息

#### Preview 👁️
- 格式化显示响应内容
- JSON数据会自动美化格式
- 提供复制功能

#### Response 📥
- 显示原始响应数据
- 显示内容类型信息
- 支持复制完整响应体

#### Request 📤
- 显示请求体内容（如POST数据）
- 对于没有请求体的请求（如GET），显示空状态

#### Timing ⏱️
- 显示请求时间线分析
- 包括排队、连接、发送、等待、下载各阶段用时
- 用彩色条形图直观展示各阶段占比

## 请求拦截

### 拦截规则管理

1. **添加新规则**
   - 点击"➕ 添加规则"按钮
   - 填写规则配置表单
   - 点击"添加规则"保存

2. **编辑现有规则**
   - 点击规则卡片右上角的编辑按钮（✏️）
   - 修改规则配置
   - 点击"更新规则"保存

3. **启用/禁用规则**
   - 点击规则卡片右上角的开关按钮（🟢/🔴）
   - 禁用的规则不会执行拦截动作

4. **删除规则**
   - 点击规则卡片右上角的删除按钮（🗑️）
   - 确认后永久删除规则

### 规则配置

#### 匹配条件

**URL模式**
- 支持通配符匹配：
  - `*` 匹配任意字符（除了/）
  - `**` 匹配任意字符（包括/）
- 示例：
  - `**/api/users/**` - 匹配所有包含/api/users/的URL
  - `https://api.example.com/*` - 匹配特定域名下的所有路径
  - `*.json` - 匹配所有.json结尾的请求

**HTTP方法**
- 选择要拦截的HTTP方法
- `*` 表示匹配所有方法

#### 执行动作

**修改响应**
- 自定义返回的状态码
- 编写自定义响应体（支持JSON格式）
- 可以模拟各种API响应

**修改请求**
- 修改发送到服务器的请求内容
- 可以添加、修改或删除请求头

**延迟请求**
- 设置请求延迟时间（毫秒）
- 用于测试网络延迟情况

**阻止请求**
- 完全阻止请求发送
- 用于测试离线情况或阻止特定资源

**重定向**
- 将请求重定向到其他URL
- 可以用于测试不同的API端点

### 拦截状态

- 被拦截的请求在网络列表中会显示特殊标识（🔓）
- 拦截规则卡片会显示是否启用状态
- 已拦截的请求会有特殊的背景色标识

## 键盘快捷键

- `Ctrl/Cmd + F`: 聚焦到搜索框
- `Escape`: 关闭请求详情面板
- `Ctrl/Cmd + R`: 清除请求列表
- `Space`: 开始/停止录制

## 提示和技巧

1. **实时模拟**: 项目包含实时模拟数据生成，会自动创建新的网络请求用于演示

2. **响应式设计**: 界面支持移动端和平板设备，会自动调整布局

3. **暗色主题**: 界面采用暗色主题，减少眼部疲劳，更适合长时间使用

4. **性能优化**: 请求列表会自动限制显示数量，避免内存占用过多

5. **数据持久化**: 在实际使用中，拦截规则可以保存到本地存储中

## 故障排除

**界面无法加载**
- 检查浏览器控制台是否有错误信息
- 确保使用支持的浏览器版本

**请求未显示**
- 确认录制状态是否开启
- 检查筛选条件是否过于严格

**拦截器不工作**
- 确认拦截规则是否启用
- 检查URL模式是否正确匹配
- 验证匹配条件的HTTP方法

**界面显示异常**
- 尝试刷新页面
- 清除浏览器缓存
- 检查屏幕分辨率和缩放设置